% This thesis template is based on the personal template of Felix Moebius. Thanks, Felix!
% It has been extended and modified by Tobias Pfandzelter at the Scalable Software Systems group of TU Berlin.
% It is licensed under the terms of the MIT license, meaning you are free to use it however you see fit but we accept no liability.
% Good luck writing your thesis!

\documentclass[a4paper, 11pt]{article}

% \usepackage[utf8x]{inputenc}
% \usepackage[T1]{fontenc}
\usepackage{fix-cm}
\usepackage{fontspec}

\usepackage[a4paper, margin=3cm]{geometry}
\usepackage[titletoc, title]{appendix}

\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning,fit,backgrounds,calc}

\usepackage{color}
\usepackage{booktabs}
\usepackage[all]{nowidow}
% \usepackage[dvipsnames]{xcolor}
\usepackage[hidelinks]{hyperref}
\usepackage{acronym}
\usepackage{graphicx}
\usepackage{url}
\usepackage{titlesec}
\usepackage{csquotes}

\usepackage{transparent}
\usepackage{eso-pic}
\usepackage[section]{placeins}
\usepackage{setspace}
\usepackage{parskip}
\usepackage{subcaption}

\usepackage{array}

% auto adjusting width tables
\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash\hspace{0pt}}X}

\renewcommand\thefigure{%
\thesection.\arabic{figure}}
\renewcommand\thesubfigure{%
\thesection.\arabic{figure}.\arabic{subfigure}}
\renewcommand\thetable{%
\thesection.\arabic{table}}

\usepackage[main=english, ngerman]{babel}

% we use the cleveref package to refer to figures, sections, etc.
% instead of "Figure~\ref{fig:example}", write only "\cref{fig:example}" and the word "Figure" (or table, etc) will be inserted normally
\usepackage[noabbrev,capitalise]{cleveref}

\usepackage[
  maxbibnames=99,
  style=alphabetic,
  url=false,
  backend=biber,
  sortcites=true,
]{biblatex}
\addbibresource{refs.bib}
\DeclareFieldFormat[online]{urldate}{Last accessed: #1}
\DeclareFieldFormat{eprint}{arXiv: \href{https://arxiv.org/abs/#1}{#1}}
\DeclareFieldFormat[report]{title}{``#1''}

\newcommand{\projectTitle}{Benchmarking the Scalability Behavior of MobilityDB and CrateDB}
\newcommand{\thesisType}{Bachelor's Thesis}
\newcommand{\authors}{Eryk Karol Kściuczyk}
\newcommand{\matrikel}{468796}
\newcommand{\authorEmail}{\href{mailto:e.ksciuczyk@campus.tu-berlin.de}{e.ksciuczyk@campus.tu-berlin.de}}
\newcommand{\examinera}{Prof.~Dr.-Ing.~David Bermbach}
\newcommand{\examinerb}{Prof.~Dr.~habil.~Odej Kao}
\newcommand{\supervisor}{Tim Christian Rese}

\newcommand{\projectYear}{2025}
\newcommand{\facultyName}{Fakultät Elektrotechnik und Informatik}
\newcommand{\departmentName}{Fachgebiet Scalable Software Systems}

\newcommand{\mobilitydbc}{MDBC~} % Other option is MobilityDB-C
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

\begin{document}
\input{front.tex}

\newpage

\section*{Abstract}
Spatiotemporal databases increase in demand as smart cities emerge and a large horizontally scalable systems are needed to handle IoT workloads.
In this thesis we benchmark and compare the horizontal scalability of two open-source distributed database management systems (DDBMS): MobilityDB extended with Citus for horizontal scalability (MobilityDBC) and CrateDB.
We design a reproducible, portable, and fair benchmark, simulating spatiotemporal workloads inspired by e-scooter trips in Berlin, which we simulate using developed tool for this thesis.
The benchmark evaluates bulk insert, simple read, and complex read scenarios using synthetic data and metrics such as latency, throughput, and success rate.
We deploy both systems on Kubernetes clusters on Azure Cloud using OpenTofu, varying cluster and client sizes.
Our findings reveal that CrateDB provides higher insert throughput, favoring high-ingest scenarios, while MobilityDBC shows robust support for complex spatiotemporal queries and maintains high success rates under analytical load.
We identified, that CrateDB is can perform simple spatiotemporal queries, yet is incapable of executing complex queries on large datasets.
Furthermore we see the limitations of our research, such as not benchmarking the UPDATE and DELETE queries.
Those limitations are viable directions for future research.

% GERMAN
\clearpage
\begin{otherlanguage}
  {ngerman}
  \section*{Kurzfassung}
  Die Nachfrage nach räumlich-zeitlichen Datenbanken steigt mit der Entstehung von Smart Cities, und große, horizontal skalierbare Systeme werden benötigt, um IoT-Workloads zu behandlen.
  In dieser Arbeit vergleichen wir die horizontale Skalierbarkeit zweier Open-Source, verteilter Datenbankmanagementsysteme (DDBMS): MobilityDB, erweitert mit Citus für horizontale Skalierbarkeit (MobilityDBC), und CrateDB.
  Wir entwickeln einen reproduzierbaren, portablen und fairen Benchmark, der räumlich-zeitliche Workloads simuliert, die von E-Scooter-Fahrten in Berlin inspiriert sind und die wir mit einem für diese Arbeit entwickelten Tool simulieren.
  Der Benchmark bewertet Szenarien mit INSERTS, einfachen und komplexen READS anhand synthetischer Daten und Metriken wie Latenz, Durchsatz und Erfolgsrate.
  Wir implementieren beide Systeme auf Kubernetes-Clustern in der Azure Cloud mit OpenTofu und variieren dabei Cluster- und Clientgrößen.
  Unsere Ergebnisse zeigen, dass CrateDB einen höheren Einfügedurchsatz bietet und damit Szenarien mit hohem Datenaufkommen besser passt, während MobilityDBC komplexe räumlich-zeitliche Abfragen zuverlässig unterstützt und hohe Erfolgsraten unter analytischer Belastung beibehält.
  Wir haben festgestellt, dass CrateDB zwar einfache räumlich-zeitliche Abfragen durchführen kann, jedoch nicht in der Lage ist, komplexe Abfragen auf großen Datensätzen auszuführen.
  Darüber hinaus erkennen wir die Grenzen unserer Forschung, beispielsweise das fehlende Benchmarking der UPDATE- und DELETE-Abfragen.
  Diese Einschränkungen bieten vielversprechende Ansätze für zukünftige Forschung.
\end{otherlanguage}

\clearpage

\tableofcontents

\include{chapters/01_introduction.tex}
\clearpage
\include{chapters/02_background.tex}
\clearpage
\include{chapters/03_benchmarkdesign.tex}
\clearpage
\include{chapters/04_evaluation.tex}
\clearpage
\include{chapters/05_discussion.tex}
\clearpage
\include{chapters/06_relatedwork.tex}
\clearpage
\include{chapters/07_conclusion.tex}

\newpage
\printbibliography
\end{document}
